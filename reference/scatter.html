<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Scatterplot with Truth and Estimate Values — scatter • scatter</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Scatterplot with Truth and Estimate Values — scatter"><meta name="description" content="This function creates a scatterplot comparing `truth` and `estimate` values. It supports grouped data,
adding facets for each group, and can optionally include agreement metrics as text annotations in the plot.
Metrics can be positioned either inside the plot area or outside as subtitles or facet labels."><meta property="og:description" content="This function creates a scatterplot comparing `truth` and `estimate` values. It supports grouped data,
adding facets for each group, and can optionally include agreement metrics as text annotations in the plot.
Metrics can be positioned either inside the plot area or outside as subtitles or facet labels."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">scatter</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.10</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Scatterplot with Truth and Estimate Values</h1>

      <div class="d-none name"><code>scatter.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function creates a scatterplot comparing `truth` and `estimate` values. It supports grouped data,
adding facets for each group, and can optionally include agreement metrics as text annotations in the plot.
Metrics can be positioned either inside the plot area or outside as subtitles or facet labels.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">scatter</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">truth</span>,</span>
<span>  <span class="va">estimate</span>,</span>
<span>  metrics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">rsq</span>, <span class="va">md</span>, <span class="va">rmd</span>, <span class="va">rmse</span>, <span class="va">rrmse</span><span class="op">)</span>,</span>
<span>  metrics_position <span class="op">=</span> <span class="st">"inside"</span>,</span>
<span>  metrics_inside_placement <span class="op">=</span> <span class="st">"upperleft"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame or tibble. Can be grouped (using `dplyr::group_by`) to create faceted plots.</p></dd>


<dt id="arg-truth">truth<a class="anchor" aria-label="anchor" href="#arg-truth"></a></dt>
<dd><p>The column name in `data` containing truth values. Should be unquoted.</p></dd>


<dt id="arg-estimate">estimate<a class="anchor" aria-label="anchor" href="#arg-estimate"></a></dt>
<dd><p>The column name in `data` containing estimate values. Should be unquoted.</p></dd>


<dt id="arg-metrics">metrics<a class="anchor" aria-label="anchor" href="#arg-metrics"></a></dt>
<dd><p>A list of metrics to compute and display. Metrics can include almost any function from the `yardstick` package
(e.g., `rsq`, `rmse`, `mape`). Defaults to `list(rsq, md, rmd, rmse, rrmse)`. Set to `NULL` to disable.</p></dd>


<dt id="arg-metrics-position">metrics_position<a class="anchor" aria-label="anchor" href="#arg-metrics-position"></a></dt>
<dd><p>A character string indicating where to display metrics. Options are `"inside"`
(as annotations within the plot) or `"outside"` (as subtitle or facet labels). Defaults to `"inside"`.</p></dd>


<dt id="arg-metrics-inside-placement">metrics_inside_placement<a class="anchor" aria-label="anchor" href="#arg-metrics-inside-placement"></a></dt>
<dd><p>A character string indicating the position of the metrics within the plot.
Options are "upperright", "upperleft", "lowerright", or "lowerleft". Defaults to "upperright".</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional parameters to control point aesthetics, including:
- `points_color`: Color of points (default is "black").
- `points_size`: Size of points (default is 2).
- `points_shape`: Shape of points (default is 1).
- `points_alpha`: Transparency of points (default is 1).
- `text_size`: text size for the displayed metrics (default is 10 pt)
- `text_background_alpha`: change the transparency of the metrics text background (default is 0.5). Disable with 0 (fully transparent)
- `metrics_nlines`: allow to split the metrics text into n lines (default is 1 line)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A ggplot object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function dynamically calculates axis ranges based on the `truth` and `estimate` values, ensuring a square plot using
`coord_fixed()`. For grouped data, it uses `facet_wrap` to create separate scatterplots for each group.</p>
<p>Agreement metrics are calculated using the `agreement_metrics` function, and their display depends on the value of
`metrics_position`. For grouped data with `metrics_position = "outside"`, metrics are added to the facet labels,
while for `metrics_position = "inside"`, they are displayed within each plot as annotations.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span>, each <span class="op">=</span> <span class="fl">50</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  truth <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">10</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">20</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">15</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  estimate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">10</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">20</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">15</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Simple scatterplot</span></span></span>
<span class="r-in"><span><span class="fu">scatter</span><span class="op">(</span><span class="va">df</span>, <span class="va">truth</span>, <span class="va">estimate</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="scatter-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Scatterplot with agreement metrics (inside plot)</span></span></span>
<span class="r-in"><span><span class="fu">scatter</span><span class="op">(</span><span class="va">df</span>, <span class="va">truth</span>, <span class="va">estimate</span>, metrics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">rsq</span>, <span class="va">mape</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="scatter-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Scatterplot with agreement metrics (outside plot as subtitle)</span></span></span>
<span class="r-in"><span><span class="fu">scatter</span><span class="op">(</span><span class="va">df</span>, <span class="va">truth</span>, <span class="va">estimate</span>, metrics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">rsq</span>, <span class="va">rmse</span><span class="op">)</span>, metrics_position <span class="op">=</span> <span class="st">"outside"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="scatter-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Grouped scatterplot with agreement metrics inside</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">scatter</span><span class="op">(</span><span class="va">truth</span>, <span class="va">estimate</span>, metrics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">rsq</span>,<span class="va">rmse</span>,<span class="va">rrmse</span><span class="op">)</span>, metrics_position <span class="op">=</span> <span class="st">"inside"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="scatter-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Grouped scatterplot with agreement metrics outside as facet labels</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">scatter</span><span class="op">(</span><span class="va">truth</span>, <span class="va">estimate</span>, metrics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">rsq</span>, <span class="va">rmse</span><span class="op">)</span>, metrics_position <span class="op">=</span> <span class="st">"outside"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="scatter-5.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Piotr Tompalski.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

