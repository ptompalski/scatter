% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/agreement_metrics.R
\name{agreement_metrics}
\alias{agreement_metrics}
\title{Calculate Agreement Metrics for Observed and Predicted Values}
\usage{
agreement_metrics(data, observed, predicted, add_overall = TRUE)
}
\arguments{
\item{data}{A data frame or tibble containing the observed and predicted values, as well as any grouping variables.}

\item{observed}{The name of the column containing observed values. Must be unquoted (e.g., `observed`).}

\item{predicted}{The name of the column containing predicted values. Must be unquoted (e.g., `predicted`).}

\item{add_overall}{Logical, default `TRUE`. If `TRUE`, an additional row is added with overall metrics calculated for the entire dataset.}
}
\value{
A tibble containing the calculated metrics:
  \describe{
    \item{Grouping Variables}{Grouping variables from the input data, if present.}
    \item{n}{Number of valid (non-missing) observations used for calculations.}
    \item{R2}{Coefficient of determination (R-squared).}
    \item{bias}{Mean difference between predicted and observed values.}
    \item{bias_perc}{Relative bias, expressed as a percentage.}
    \item{RMSE}{Root Mean Squared Error.}
    \item{RMSE_perc}{Relative RMSE, expressed as a percentage.}
  }
}
\description{
Computes various metrics (e.g., R2, bias, RMSE) to evaluate the agreement
between observed and predicted values. Supports grouped data and includes
an option to add overall metrics for the entire dataset.
}
\details{
If the input data is grouped using `group_by()`, metrics are calculated separately for each group.
When `add_overall = TRUE`, a row with overall metrics (calculated on the entire dataset) is added to the result.
This function supports grouping variables of any type but ensures that grouping variables are consistently of type `character` in the output.
}
\examples{
library(dplyr)

# Example data
data <- tibble(
  species = c("A", "A", "B", "B", "C", "C"),
  region = c("North", "North", "South", "South", "East", "East"),
  observed = c(10, 15, 20, NA, 25, 30),
  predicted = c(12, 14, 22, NA, 23, 28)
)

# Grouped calculation with overall statistics
data \%>\%
  group_by(species, region) \%>\%
  agreement_metrics(observed = observed, predicted = predicted)

# Ungrouped calculation
agreement_metrics(data, observed = observed, predicted = predicted)

}
